 <!DOCTYPE html>
 <html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hauler Horizon</title>
    <link rel="stylesheet" href="../css/Feedback.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

 </head>
 <body>
   <header>
        <img src="../images/hauler.png" alt="Logo" class="logo">
        <nav>
            <div class="nav-container">
                <ul class="navlinks">
                    <li class="items"><a href="./index.html">Home</a></li>
                    <li class="items">
                        <a href="./Service.html" onclick="toggleDropdown(event, 'dropdownServices')">Services</a>
                    </li>
                    <li class="items">
                        <a href="#" onclick="toggleDropdown(event, 'dropdownPage')">Page</a>
                        <img style="margin-bottom: -5px; margin-left: 2px;" width="20px" height="20px" src="../images/down.png" alt="" onclick="toggleDropdown(event, 'dropdownPage')">
                        <ul class="dropdown" id="dropdownPage">
                            <li><a href="./Feedback.html">Feedback</a></li>
                            <li><a href="./Team.html">Our Team</a></li>
                            <li><a href="./FAQ.html">FAQs</a></li>
                        </ul>
                    </li>
                    <li class="items"><a href="./AboutUs.html">About Us</a></li>
                    <li onclick="showSidebar()"><a href="#"><ion-icon name="menu-outline"></ion-icon></a></li>
                </ul>
             <a href="../html/ContactUs.html"><button class="contact-button"><img src="../images/call.png" alt="call"><span class="contact">Contact Us</span></button></a>
            </div>
            <ul class="sidebar">
                <li onclick="closeSidebar()" style="margin-top: 10px;"><a href="#"><ion-icon name="close-outline"></ion-icon></a></li>
                <li><a href="./index.html">Home</a></li>
                <li><a href="./Service.html">Services</a></li>
                <li><a href="./Feedback.html">Feedback</a></li>
                <li><a href="./Team.html">Our Team</a></li>
                <li><a href="./FAQ.html">FAQs</a></li>
                <li><a href="./AboutUs.html">About Us</a></li>
                <li>  <a href="./ContactUs.html"><button class="contact-button"><img src="../images/call.png" alt="call"><span class="contact">Contact Us</span></button></a></li> <!-- Changed to list item -->
            </ul>
        </nav>
    </header>


    <div class="background">
        
        <div class="title">
            <div class="merge-title1">
                <span class="title-2" style="color: white; ">Feed</span>
                <span class="title-3" style="color:#10AC84;"> back</span>
            </div> 
            <div class="merge-title2">
                <span class="title-4" style="color: #10AC84; ">Home</span>
                <span class="title-5" style="color:white;"> / Feedback</span>
            </div> 
        </div>
    </div>

    <div class="fourth">
        <div class="fourth-content">
            <div class="feedback" style="color: #10AC84; ">
                <h4>
                    FEEDBACK
                </h4>
                  <div class="merge3">
                       <span class="text6" style="color: black; font-weight: bold; ">What's Our</span>
                       <span class="text7" style="color:#10AC84; font-weight: bolder;">Client</span>
                  </div>
                    <div class="said" style="color: black; font-weight: bold; " >
                         <span>Said About Us</span> 
                   </div>
            </div>
           
            </div>

            <div class="row">
              <div class="col">
                  <div class="box">
                    <i>“We've been working with this company for over five years, and their reliability and quality have never wavered. They're truly a trusted partner in our business.”</i>
                      <div class="name">ROSE</div>
                      <div class="group">
                          <div class="ceo">CEO | FOUNDER<img src="../images/quotation.png" alt="Quotation" ></div>
                      </div>  
                  </div>                    
              </div>
              <div class="col">
                  <div class="box">
                    <i>“We've been working with this company for over five years, and their reliability and quality have never wavered. They're truly a trusted partner in our business.”</i>
                      <div class="name">DAIS</div>
                      <div class="group">
                          <div class="ceo">CEO | FOUNDER<img src="../images/quotation.png" alt="Quotation" ></div>
                      </div>  
                  </div>    
              </div>
              <div class="col">
                  <div class="box">
                    <i>“We've been working with this company for over five years, and their reliability and quality have never wavered. They're truly a trusted partner in our business.”</i>
                      <div class="name">DA</div>
                      <div class="group">
                          <div class="ceo">CEO | FOUNDER<img src="../images/quotation.png" alt="Quotation" ></div>
                      </div>  
                  </div>    
              </div>
     
          <div class="col">
              <div class="box">
                <i>“We've been working with this company for over five years, and their reliability and quality have never wavered. They're truly a trusted partner in our business.”</i>
                  <div class="name">JANE</div>
                  <div class="group">
                      <div class="ceo">CEO | FOUNDER<img src="../images/quotation.png" alt="Quotation" ></div>
                  </div>  
              </div>                    
          </div>
          <div class="col">
              <div class="box">
                <i>“We've been working with this company for over five years, and their reliability and quality have never wavered. They're truly a trusted partner in our business.”</i>
                  <div class="name">ROMMEL</div>
                  <div class="group">
                      <div class="ceo">CEO | FOUNDER<img src="../images/quotation.png" alt="Quotation" ></div>
                  </div>  
              </div>    
          </div>
          <div class="col">
              <div class="box">
                <i>“We've been working with this company for over five years, and their reliability and quality have never wavered. They're truly a trusted partner in our business.”</i>
                  <div class="name">DARYL</div>
                  <div class="group">
                      <div class="ceo">CEO | FOUNDER<img src="../images/quotation.png" alt="Quotation" ></div>
                  </div>  
              </div>    
          </div>
        </div>
        
            <div class="Review">
              <h4>Submit Your Review</h4>
              <div class="boxbox">
                  <form id="send-feedback">
                      <div class="input-box">
                          <div class="input-field">
                              <input type="text" placeholder="Full Name" name="name" required>
                          </div>
                          <div class="input-field">
                              <input type="email" placeholder="Email Address" name="email" required>
                          </div>
                      </div>
          
                      <textarea name="message" placeholder="Your Message" required></textarea>
          
                      <button type="submit">Submit Form</button>
                  </form>
                  <!-- Feedback Message -->
                  <div id="feedback-message"></div>
                  <!-- Loading Indicator (hidden by default) -->
                  <div id="loading-indicator" style="display:none;">Submitting...</div>
              </div>
          </div>
    
          
          
          
          
    </div>
    </div>

    <footer class="footer">
        <div class="leftColumn">
          <div class="footer-left">
            <img class="footerlogo" alt="text" src="../images/hauler.png"/>
            <p class="footerlorem">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus convallis vitae sem non bibendum. Aliquam a auctor ante. Sed euismod gravida sagittis.</p>
          </div>
          <div class="f-i-t_image">
            <i class="fa-brands fa-facebook-f fa-2xl" style="color: white;"></i>
            <i class="fa-brands fa-instagram fa-2xl" style="color: white;"></i>
            <i class="fa-brands fa-twitter fa-2xl" style="color: white;"></i>
          </div>
        </div>
        
        <div class="middleColumn">
          <p class="support">Our Support</p>
          <div class="serviceItem">
            <i class="fa-solid fa-circle-check fa-xl" style="color: #10AC84;"></i>
            <a href=""><p class="serviceText">Services</p></a>
          </div>
          <div class="faqItem">
            <i class="fa-solid fa-circle-check fa-xl" style="color: #10AC84;"></i>
            <a href="../html/FAQ.html"><p class="faqText">FAQs</p></a>
          </div>
          <div class="contactItem">
            <i class="fa-solid fa-circle-check fa-xl" style="color: #10AC84;"></i>
            <a href="../html/ContactUs.html"><p class="contactText">Contact</p></a>
          </div>
          <div class="termsItem">
            <i class="fa-solid fa-circle-check fa-xl" style="color: #10AC84;"></i>
            <a href="../html/Term&Con.html"><p class="termsText">Term & Conditions</p></a>
          </div>
          <div class="privacyItem">
            <i class="fa-solid fa-circle-check fa-xl" style="color: #10AC84;"></i>
            <a href="../html/Privacy.html"><p class="privacyText">Privacy Policy</p></a>
          </div>
        </div>
        
        <div class="rightColumn">
          <p class="contactTitle">Contact #</p>
          <div class="addressBlock">
            <img alt="h" class="addressIcon" src="../images/address.png" />
            <div class="addressDetails">
              <h3 class="addressLabel" style="color: white;">Address</h3>
              <p class="addressText">
                99 Roving St., Big City,
                <br />
                BGC 234565
              </p>
            </div>
          </div>
          <div class="phoneBlock">
            <img class="phoneIcon" alt="text" src="../images/phone.png" />
            <div class="phoneDetails">
              <h3 class="phoneLabel" style="color: white;">Phone Number</h3>
              <p class="phoneNumber">123-234-1234</p>
            </div>
          </div>
          <div class="emailBlock">
            <img class="emailIcon" alt="text" src="../images/mail.png"/>
            <div class="emailDetails">
              <h3 class="emailLabel" style="color: white;">Email Address</h3>
              <p class="emailAddress">haulerhorizon@gmail.com</p>
            </div>
          </div>
        </div>
      </footer>

      <script>
        document.getElementById("send-feedback").addEventListener("submit", function(event) {
          event.preventDefault();  // Prevent form from reloading the page
      
          // Get the message value from the textarea
          const message = document.querySelector("textarea[name='message']").value;
      
          // Split the message by spaces to count the number of words
          const wordCount = message.trim().split(/\s+/).length;
      
          // Check if the message exceeds 26 words
          if (wordCount > 26) {
              alert("Your message exceeds the 26-word limit. Please shorten your message.");
              return; // Prevent form submission if word count exceeds 26
          }
      
          // Get the form data
          const formData = new FormData(this);
      
          // Show loading indicator
          document.getElementById("loading-indicator").style.display = "block";
          document.querySelector("button[type='submit']").disabled = true; // Disable the submit button
      
          // Clear any previous feedback messages
          document.getElementById("feedback-message").innerHTML = '';
      
          // Prepare the data from the form
          const data = {};
          formData.forEach((value, key) => {
              data[key] = value;
          });
      
          // Debug: Log data to verify structure
          console.log('Form Data:', data);  // Check the structure of the data being sent
      
          // Send the data using axios
          axios.post('http://localhost:3000/submit-feedback', data)
              .then(response => {
                  const feedbackMessage = document.getElementById("feedback-message");
      
                  // Check if the response is successful
                  if (response.data.success) {
                      feedbackMessage.innerHTML = `<p class="success">Thank you for your feedback!</p>`;
                      feedbackMessage.style.color = "green";
      
                      // Clear all input fields after successful submission
                      document.getElementById("send-feedback").reset();
                  } else {
                      feedbackMessage.innerHTML = `<p class="error">${response.data.message}</p>`;
                      feedbackMessage.style.color = "red";
                  }
              })
              .catch(error => {
                  console.error("Error submitting form:", error);
                  document.getElementById("feedback-message").innerHTML = `<p class="error">An unexpected error occurred. Please try again later.</p>`;
              })
              .finally(() => {
                  // Hide loading indicator and re-enable submit button
                  document.getElementById("loading-indicator").style.display = "none";
                  document.querySelector("button[type='submit']").disabled = false;
              });
        });


        // Assuming you want to fetch feedback data and display it in a div with class 'row'
fetch('http://localhost:3000/feedback')
  .then(response => response.json())
  .then(data => {
    const row = document.querySelector('.row');
    data.forEach(feedback => {
        const col = document.createElement('div');
        col.classList.add('col');
        col.innerHTML = `
            <div class="box">
                <i>“${feedback.message}”</i>
                <div class="name">${feedback.name}</div>
                <div class="group">
                    <div class="ceo">CEO | FOUNDER<img src="../images/quotation.png" alt="Quotation" ></div>
                </div>  
            </div>
        `;
        row.appendChild(col);
    });
  })
  .catch(error => {
    console.error('Error fetching feedback:', error);
  });

      </script>
      
  
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
  <script src="/script.js" > </script>
 </body>
 </html>
